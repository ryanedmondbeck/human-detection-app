{"version":3,"sources":["App.js","index.js"],"names":["API_KEY","process","App","state","selectedFile","isClick","isPerson","isFileSelected","onFileChange","event","setState","target","files","onSubmit","FormData","append","name","data","options","method","headers","url","axios","then","response","i","objects","length","console","log","object","catch","error","type","onChange","this","onClick","renderResult","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+RAEMA,EAAUC,mCA8FDC,E,4MA3FdC,MAAQ,CAEPC,aAAc,KACdC,SAAS,EACTC,UAAU,EACVC,gBAAgB,G,EAIjBC,aAAe,SAAAC,GACd,EAAKC,SAAS,CAAEN,aAAcK,EAAME,OAAOC,MAAM,KACjD,EAAKF,SAAS,CAAEH,gBAAgB,EAAMF,SAAS,K,EAIhDQ,SAAW,WACV,GAAI,EAAKV,MAAMI,eAAgB,EAEb,IAAIO,UAEZC,OACR,SACA,EAAKZ,MAAMC,aACX,EAAKD,MAAMC,aAAaY,MAMzB,EAAKN,SAAS,CAACJ,UAAU,IAGzB,IAAMW,EAAO,EAAKd,MAAMC,aAElBc,EAAU,CACfC,OAAQ,OACRC,QAAS,CACR,eAAgB,2BAChB,4BAA6BpB,GAE9BiB,KAAMA,EACNI,IARW,oEAWZC,IAAMJ,GACLK,MAAK,SAAAC,GAEL,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAASP,KAAKS,QAAQC,OAAQF,IACjDG,QAAQC,IAAIL,EAASP,KAAKS,QAAQD,GAAGK,QACG,WAApCN,EAASP,KAAKS,QAAQD,GAAGK,QAC5B,EAAKpB,SAAS,CAACJ,UAAU,IAG3BsB,QAAQC,IAAI,EAAK1B,MAAMG,UACvB,EAAKI,SAAS,CAAEL,SAAS,OAEzB0B,OAAM,SAAAC,GACNJ,QAAQC,IAAIG,EAAMR,kBAInBI,QAAQC,IAAI,0C,uDAIJ,IAAD,OAWR,OACC,6BACC,4GAGA,6BACC,2BAAOI,KAAK,OAAOC,SAAUC,KAAK3B,eAClC,4BAAQ4B,QAASD,KAAKtB,UAAtB,UAjBkB,WACpB,GAAI,EAAKV,MAAME,QACd,OAAI,EAAKF,MAAMG,SACP,8DAGA,kEAYN+B,S,GArFYC,aCClBC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.befaf8d0.chunk.js","sourcesContent":["import axios from 'axios'; \nimport React,{Component} from 'react'; \nconst API_KEY = process.env.REACT_APP_COMPUTER_VISION_API_KEY;\n\nclass App extends Component { \n\tstate = { \n\t\t// Initially, no file is selected \n\t\tselectedFile: null,\n\t\tisClick: false,\n\t\tisPerson: false,\n\t\tisFileSelected: false\n\t}; \n\n\t// Select a file \n\tonFileChange = event => { \n\t\tthis.setState({ selectedFile: event.target.files[0] }); \n\t\tthis.setState({ isFileSelected: true, isClick: false});\n\t}; \n\t\n\t// After file is uploaded, click Submit\n\tonSubmit = () => { \n\t\tif (this.state.isFileSelected) {\n\t\t\t// Create an object of formData\n\t\t\tconst formData = new FormData(); \n\t\t\t// Update the formData object \n\t\t\tformData.append( \n\t\t\t\t\"myFile\", \n\t\t\t\tthis.state.selectedFile, \n\t\t\t\tthis.state.selectedFile.name \n\t\t\t); \n\t\t\t\n\t\t\t// Details of the uploaded file \n\t\t\t// console.log(this.state.selectedFile); \n\n\t\t\tthis.setState({isPerson: false});\n\n\t\t\t// Define API request\n\t\t\tconst data = this.state.selectedFile;\n\t\t\tconst url = 'https://centralus.api.cognitive.microsoft.com/vision/v3.0/detect';\n\t\t\tconst options = {\n\t\t\t\tmethod: 'POST',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/octet-stream',\n\t\t\t\t\t'Ocp-Apim-Subscription-Key': API_KEY\n\t\t\t\t},\n\t\t\t\tdata: data,\n\t\t\t\turl: url,\n\t\t\t}\n\t\t\t// Request made to the Computer Vision API\n\t\t\taxios(options)\n\t\t\t.then(response => { \n\t\t\t\t// console.log(response);\n\t\t\t\tfor (let i = 0; i < response.data.objects.length; i++) {\n\t\t\t\t\tconsole.log(response.data.objects[i].object);\n\t\t\t\t\tif (response.data.objects[i].object === 'person') {\n\t\t\t\t\t\tthis.setState({isPerson: true});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconsole.log(this.state.isPerson);\n\t\t\t\tthis.setState({ isClick: true });\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error.response)\n\t\t\t});\t\n\t\t}\n\t\telse {\n\t\t\tconsole.log(\"Upload a file before clicking submit.\")\n\t\t}\n\t};\n\n\trender() { \n\t\tconst renderResult = () => {\n\t\t\tif (this.state.isClick) {\n\t\t\t\tif (this.state.isPerson ) {\n\t\t\t\t\treturn <p>There IS a person in the image.</p>;\n\t\t\t\t}\n\t\t\t\telse  {\n\t\t\t\t\treturn <p>There is NOT a person in the image.</p>;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ( \n\t\t\t<div> \n\t\t\t\t<h3> \n\t\t\t\tChoose a file, then click Submit to check if there is a person in the image.\n\t\t\t\t</h3> \n\t\t\t\t<div> \n\t\t\t\t\t<input type=\"file\" onChange={this.onFileChange} /> \n\t\t\t\t\t<button onClick={this.onSubmit}>Submit</button> \n\t\t\t\t\t{renderResult()}\n\t\t\t\t</div> \n\t\t\t</div> \n\t\t); \n\t};\n};\n\nexport default App; \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}